<%- include('partials/side-nav'); -%>
<div class="side-nav-content p-3">
  <div id='dd' class="scheduled mb-3" style="justify-content: space-between;">
    <p></p><div class="theme-heading top-welcome" style="padding-top: 0%;">Welcome</div>
    <p></p></div>

  <%errors.forEach((err)=>{%>
    <p><%=err%></p>
  <%})%>

<div class="container mb-5 mt-5 allDetails">
  <h4 class="theme-heading text-center mb-5">Details of Staff and Students</h4>
  <div class="scheduled">
    <a class="waves-effect waves-light btn modal-trigger btn-primary btn m-3" href="#allTeachers">All Teachers</a>
    <div id="allTeachers" class="modal">
      <div class="modal-footer">
        <h4 class="theme-heading text-center" style="margin: auto;" >All Teachers</h4>
        <a href="#!" class="modal-close waves-effect waves-green btn-flat"><i class="fas fa-times red-text"></i></a>
      </div>
      <div class="modal-content">
        <%teachers.forEach((x)=>{%>
          <div class="scheduled mb-3">
            <p style="width: 45%;"><b>Name:</b><%=x.name%></p>
            <p style="width: 45%;"><b>Email:</b><%=x.email%></p>
            <b><a class="red-text" href="/superuser/teacher/remove/<%=x.id%>">Remove</a></b>
          </div>
       <%})%>
      </div>
    </div>
    <a class="waves-effect waves-light btn modal-trigger btn-primary btn m-3" href="#allStudents">All Students</a>
    <div id="allStudents" class="modal">
      <div class="modal-footer">
        <h4 class="theme-heading text-center" style="margin: auto;" >All Students</h4>
        <a href="#!" class="modal-close waves-effect waves-green btn-flat"><i class="fas fa-times red-text"></i></a>
      </div>
      <div class="modal-content">
        <%students.forEach((x)=>{%>
          <div class="scheduled mb-3">
            <p style="width: 45%;"><b>Name:</b><%=x.name%></p>
            <p style="width: 45%;"><b>Email:</b><%=x.email%></p>
            <b><a class="red-text" href="/superuser/student/remove/<%=x.id%>">Remove</a></b>
          </div>
       <%})%>
      </div>
    </div>
    </div>
    <div class="seperator mt-5 "></div> 
</div>
  <section class="dashboard">
    <div class="svg-SU">
      <%- include('../assets/svg/superUsergrant.svg'); -%>
    </div>

  </section>
  <section class="addTeacher">
    <div class="card-container">
      <div class="each-card text-center" id="aT">
        <div class="col s12 m6">
          <div class="card" style="background-color: #3b3838 !important;">
            <div class="card-content white-text">
              <h2>Add Teachers</h2>
              <div
                class="frm-icn"
                style="background-color: #3b3838 !important;"
              >
                <i class="fas fa-chalkboard-teacher"></i>
              </div>
              <form action="/superuser/teacher/add" method="POST">
                <div class="form-group white-text">
                  <div class="input-field col s6">
                    <input
                      id="last_name"
                      type="text"
                      class="validate white-text"
                      style="border-color: white;"
                      name="main[name]"
                      required
                    />
                    <label
                      for="last_name"
                      class="white-text"
                      style="pointer-events: none;"
                      >Name:</label
                    >
                  </div>
                  <div class="input-field col s6">
                    <input
                      id="last_name"
                      type="text"
                      class="validate white-text"
                      style="border-color: white;"
                      name="main[email]"
                      required
                    />
                    <label
                      for="last_name"
                      class="white-text"
                      style="pointer-events: none;"
                      >Email:</label
                    >
                  </div>
                  <button
                    class="btn btn-primary white darken-1"
                    style="color: #07031a;"
                  >
                    Submit!
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="seperator mt-5 "></div>
<div class="container mb-5 mt-5">
  </section>
  <section class="addStudent">
    <div class="card-container">
      <div class="each-card text-center" id="aS">
        <div class="col s12 m6">
          <div class="card" style="background-color: #3b6978 !important;">
            <div class="card-content white-text">
              <h2>Add Students</h2>
              <div class="frm-icn" style="background-color: #3b6978;">
                <i class="fas fa-user-graduate"></i>
              </div>
              <form action="/superuser/student/add" method="POST">
                <div class="form-group white-text">
                  <div class="input-field col s6">
                    <input
                      id="last_name"
                      type="text"
                      class="validate white-text"
                      style="border-color: white;"
                      name="mains[name]"
                      required
                    />
                    <label
                      for="last_name"
                      class="white-text"
                      style="pointer-events: none;"
                      >Name:</label
                    >
                  </div>
                  <div class="input-field col s6">
                    <input
                      id="last_name"
                      type="text"
                      class="validate white-text"
                      style="border-color: white;"
                      name="mains[email]"
                      required
                    />
                    <label
                      for="last_name"
                      class="white-text"
                      style="pointer-events: none;"
                      >Email:</label
                    >
                  </div>
                  <button
                    class="btn btn-primary white darken-1"
                    style="color: #07031a;"
                  >
                    Submit!
                  </button>
                </div>
              </form>
            </div>
          </div>
        </div>
      </div>
    </div>
    <div class="seperator mt-5 "></div>
  </section>



<section class="discussion">
  <div class="container mb-5 mt-5 allDetails">
    <h4 class="theme-heading text-center mb-5">Discussion Types</h4>
    <div class="scheduled">
      <a class="waves-effect waves-light btn btn-primary btn m-3" href="#d1">Scheduled</a>
      <a class="waves-effect waves-light btn btn-primary btn m-3" href="#d2">Past</a>

      </div>
      <div class="seperator mt-5 "></div>
  </div>

  <div id="d1"></div>
  <div class="stud-row" >
    <div class="row">
      <div class="col s12 m7">
        <div class="card" style="width: 70%;">
          <div class="card-title text-center p-3 blue-grey lighten-5 theme-heading">Scheduled Discussions</div>
            <div class="card-content">
                <div>
                  <%scheduleddiscussions.forEach((x)=>{%>
                    <b>Admin:- </b><%=x.admin%><br>
                    <b>Email:- </b><%=x.email%><br>
                    <b>Room Id:- </b><%=x.roomId%><br>
                    <b>Scheduled Time:- </b><%=moment(x.scheduledTime).format('MMMM Do YYYY, h:mm:ss a')%><br>
                    <b>Students Invited</b>
                    <select style="display: block;">
                      <option disabled selected class="present p-1">
                        Invited Students
                      </option>
                     <%x.students.forEach((y)=>{%>
                       <option><%=y.email%></option>
                      <%})%>
                     </select>
                    <div class="seperator mt-3 mb-3"></div>
                 <%})%>
                </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<div class="seperator mt-5 "></div>

<div id="d2"></div>

<div class="stud-row mt-5" >
  <div class="row">
    <div class="col s12 m7">
      <div class="card" style="width: 70%;">
        <div class="card-title text-center p-3 blue-grey lighten-5 theme-heading">Past Discussions</div>
          <div class="card-content">
              <div>
                <%pastdiscussions.forEach((x)=>{%>
                  <b>Admin:- </b><%=x.admin%><br>
                  <b>Email:- </b><%=x.email%><br>
                  <b>Room Id:- </b><%=x.roomId%><br>
                  <b>Scheduled Time:- </b><%=moment(x.scheduledTime).format('MMMM Do YYYY, h:mm:ss a')%><br>
                  <b>Students Invited</b>
                  <select style="display: block;">
                    <option disabled selected class="present p-1">
                      All Students
                    </option>
                     <%x.students.forEach((y)=>{%>
                         <%if(y.present==true){%>
                           <option class="present green-text p-1">
                             <%=y.email%>
                           </option>
                         <%}else if(y.present == false){%>
                           <option class="absent red-text p-1">
                             <%=y.email%>
                           </option>
                         <%}%>
                     <%})%>
                   </select> 
                   <div class="seperator mt-3 mb-3"></div>    
               <%})%>
              </div>
        </div>
      </div>
    </div>
  </div>
</div>
<div class="seperator mt-5 "></div>

</section>


<section class="test">
  <div class="container mb-5 mt-5 allDetails">
    <h4 class="theme-heading text-center mb-5">Test Types</h4>
    <div class="scheduled">
      <a class="waves-effect waves-light btn btn-primary btn m-3" href="#t1">Scheduled</a>
      <a class="waves-effect waves-light btn btn-primary btn m-3" href="#t2">Past</a>

      </div>
      <div class="seperator mt-5 "></div>
  </div>
  <div id="t1"></div>
  <div class="stud-row" >
    <div class="row">
      <div class="col s12 m7">
        <div class="card" style="width: 70%;">
          <div class="card-title text-center p-3 blue-grey lighten-5 theme-heading">Scheduled Tests</div>
            <div class="card-content">
                <div>
                  <%scheduledtests.forEach((x)=>{%>
                    <b>Admin:- </b><%=x.admin%><br>
                    <b>Email:- </b><%=x.email%><br>
                    <b>Room Id:- </b><%=x.roomId%><br>
                    <b>Scheduled Time:- </b><%=moment(x.scheduledTime).format('MMMM Do YYYY, h:mm:ss a')%><br>
                    <b>Students Invited</b>
                    <select style="display: block;">
                      <option disabled selected >Invited Students</option>
                     <%x.students.forEach((y)=>{%>
                       <option><%=y%></option>
                      <%})%>
                     </select>
                    <div class="seperator mt-3 mb-3"></div>
                 <%})%>
                </div>
          </div>
        </div>
      </div>
    </div>
  </div>
<div class="seperator mt-5 "></div>
  <div id="t2"></div>
  <div class="stud-row mt-5" >
    <div class="row">
      <div class="col s12 m7">
        <div class="card" style="width: 70%;">
          <div class="card-title text-center p-3 blue-grey lighten-5 theme-heading">Past Tests</div>
            <div class="card-content">
                <div>
                  <%pasttests.forEach((x)=>{%>
                    <b>Admin:- </b><%=x.admin%><br>
                    <b>Email:- </b><%=x.email%><br>
                    <b>Room Id:- </b><%=x.roomId%><br>
                    <b>Scheduled Time:- </b><%=moment(x.scheduledTime).format('MMMM Do YYYY, h:mm:ss a')%><br>
                    <b>Students Invited</b>
                    <select style="display: block;">
                      <option disabled selected >All Students</option>
                      <%x.students.forEach((y)=>{%>
                        <option><%=y%></option>
                       <%})%>
                     </select>
                    <div class="seperator mt-3 mb-3"></div>
                 <%})%>
                </div>
          </div>
        </div>
      </div>
    </div>
  </div>

</section>

<section class="counselling">
  <div class="container mb-5 mt-5 allDetails">
    <h4 class="theme-heading text-center mb-5">Counselling Types</h4>
    <div class="scheduled">
      <a class="waves-effect waves-light btn btn-primary btn m-3" href="#c1">Scheduled</a>
      <a class="waves-effect waves-light btn btn-primary btn m-3" href="#c2">Past</a>

      </div>
      <div class="seperator mt-5 "></div>
  </div>
  <div class="stud-row">
    <div class="row">
      <div class="col s12 m7">
        <div class="card" style="width: 70%;">
          <div class="card-title text-center p-3 blue-grey lighten-5 theme-heading">Add Counsellors</div>
          <div class="card-image p-3" style="height: 40vh; overflow: hidden;" >
            <img src="/images/counselling.svg" style="height: 100%;">
          </div>
            <div class="card-content">
              <form class="frm schduled text-center" style="flex-direction: column;" action="/superuser/counsell/add" method="POST">
                <div class="input-field col s6 row">
                  <input
                    type="text"
                    name="counsell[name]"
                    required
                  />
                  <label
                    for="name"
                    style="pointer-events: none;"
                    >Name:</label
                  >
                </div>
                
                <div class="input-field col s6 row">
                  <input
                    type="text"
                    name="counsell[phoneNumber]"
                    required
                  />
                  <label
                    for="phoneNumber"
                    style="pointer-events: none;"
                    >Phone Number</label
                  >
                </div> 
                
                <div class="input-field col s6 row">
                  <input
                    type="email"
                    name="counsell[email]"
                    required
                  />
                  <label
                    for="email"
                    style="pointer-events: none;"
                    >Email:</label
                  >
                </div> 
                <div class="input-field col s6">
                <label
                  for="scheduledTime"
                  style="pointer-events: none;"
                  >Scheduled Time</label
                >
                <div class="input-field col s6 row mt-5">
                  <input
                    type="datetime-local"
                    name="counsell[scheduledTime]"
                    required
                  />
                  </div> 
                </div> 
                
                <div class="input-field col s6 row">
                  <textarea id="description" class="materialize-textarea" type="text"
                  name="counsell[description]"
                  required></textarea>
                  <label for="description">Description</label>
                </div>
                <button class="btn btn-primary white-text">Add</button>
              </form>
          </div>
          
        </div>
      </div>
    </div>
  </div>
  <div class="seperator mt-3"></div>
  <div id="c1"></div>
  <div class="stud-row mt-5" >
    <div class="row">
      <div class="col s12 m7">
        <div class="card" style="width: 70%;">
          <div class="card-title text-center p-3 blue-grey lighten-5 theme-heading">Scheduled Counselling Sessions</div>
            <div class="card-content">
                <div>
                  <%scheduledcounsells.forEach((x)=>{%>
                    <b>Name:- </b><%=x.name%><br>
                    <b>Email:- </b><%=x.email%><br>
                    <b>Phone Number- </b><%=x.phoneNumber%><br>
                    <b>Scheduled Time:- </b><%=moment(x.scheduledTime).format('MMMM Do YYYY, h:mm:ss a')%><br>
                    <b>Description:- </b><%=x.description%><br>
                    <b>Student:- </b><%=x.studentname%><br>
                    <b>Student Email:-</b><%=x.studentemail%><br>
                    <b><a class="red-text" href="/superuser/counsell/remove/<%=x.id%>">Delete Session</a></b><br>
                    <div class="seperator mt-3 mb-3"></div>
                 <%})%>
                </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div class="seperator mt-3"></div>
  <div id="c2"></div>
  <div class="stud-row mt-5" >
    <div class="row">
      <div class="col s12 m7">
        <div class="card" style="width: 70%;">
          <div class="card-title text-center p-3 blue-grey lighten-5 theme-heading">Past Counselling Sessions</div>
            <div class="card-content">
                <div>
                  <%pastcounsells.forEach((x)=>{%>
                    <b>Name:- </b><%=x.name%><br>
                    <b>Email:- </b><%=x.email%><br>
                    <b>Phone Number- </b><%=x.phoneNumber%><br>
                    <b>Scheduled Time:- </b><%=moment(x.scheduledTime).format('MMMM Do YYYY, h:mm:ss a')%><br>
                    <b>Description:- </b><%=x.description%><br>
                    <b>Student:- </b><%=x.studentname%><br>
                    <b>Student Email:-</b><%=x.studentemail%><br>
                    <div class="seperator mt-3 mb-3"></div>
                 <%})%>
                </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  
</section>
</div>




<script>
  var teacherNav = document.querySelectorAll('#admin-nav');
  teacherNav.forEach((teacherNav) => {
    teacherNav.innerHTML = '';
    const navLinks = `<a id="dshbrd" href="#" onclick="dashboard()"
    ><i class="fas fa-desktop"></i><span>Dashboard</span></a
  >
  <a href="#" onclick="addTeacher()"
    ><i class="fas fa-chalkboard-teacher"></i><span>Add Teacher</span></a
  >
  <a href="#" onclick="addStudent()"
    ><i class="fas fa-user-graduate"></i><span>Add Student</span></a
  >
  <a href="#" onclick="discussion()"
        ><i class="fas fa-th"></i><span>Discussions</span></a
      >
  <a href="#" onclick="test()"
    ><i class="far fa-file-alt"></i><span>Tests</span></a
  >
  <a href="#" onclick="counselling()"
        ><i class="far fa-handshake"></i><span>Counselling</span></a
      >
  <a class='hme' href="#"><i class="fas fa-info-circle"></i><span>Home</span></a>
  <a href="#"><i class="fas fa-sliders-h"></i><span>Settings</span></a>`;
    teacherNav.innerHTML = navLinks;
  });
  document.querySelectorAll('.hme').forEach(link => link.href = location.hostname);
  function showTime(){
      var i = 0;
    document.querySelectorAll("#dd p").forEach(d => {
      if( i === 0){
        d.textContent="Date: "+moment(Date.now()).format('Do-MM-YYYY');
        i = 1
      }
      else {d.textContent="Time: "+ moment(Date.now()).format('hh.mm.ss a');i=0;}
    });
    }
    setInterval(showTime,1);
    var popup = document.querySelectorAll('.modal');
    var instances = M.Modal.init(popup);
    $('#description').val('');
  M.textareaAutoResize($('#description'));
</script>


<script>
  if (window.performance) {
  }
  if (performance.navigation.type == performance.navigation.TYPE_RELOAD) {
    location.href = 'https://eduon-unifolks.herokuapp.com/superuser/dashboard?f=1';
  } else {
  }
</script>

<%- include('partials/footer'); -%>
